<!doctype html>
<html lang="th" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Valentine's Day üíï</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Mali:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
    }
    
    * {
      font-family: 'Mali', cursive;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }
    
    @keyframes pulse-heart {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }
    
    @keyframes sparkle {
      0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
      50% { opacity: 1; transform: scale(1) rotate(180deg); }
    }
    
    @keyframes flower-fall {
      0% { transform: translateY(-100%) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100%) rotate(360deg); opacity: 0; }
    }
    
    @keyframes bounce-in {
      0% { transform: scale(0); opacity: 0; }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); opacity: 1; }
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    
    .float-animation {
      animation: float 3s ease-in-out infinite;
    }
    
    .pulse-heart {
      animation: pulse-heart 1.5s ease-in-out infinite;
    }
    
    .sparkle {
      animation: sparkle 2s ease-in-out infinite;
    }
    
    .flower-fall {
      animation: flower-fall 4s linear forwards;
    }
    
    .bounce-in {
      animation: bounce-in 0.6s ease-out forwards;
    }
    
    .shake {
      animation: shake 0.5s ease-in-out;
    }
    
    .card-flip {
      perspective: 1000px;
    }
    
    .card-inner {
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }
    
    .card-flipped .card-inner {
      transform: rotateY(180deg);
    }
    
    .card-front, .card-back {
      backface-visibility: hidden;
      -webkit-backface-visibility: hidden;
    }
    
    .card-back {
      transform: rotateY(180deg);
    }
    
    .gradient-bg {
      background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 25%, #f5a6c6 50%, #f48fb1 75%, #f8bbd0 100%);
      background-size: 400% 400%;
      animation: gradient-shift 8s ease infinite;
    }
    
    @keyframes gradient-shift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
    .glass-card {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 182, 193, 0.3);
    }
    
    .menu-card {
      transition: all 0.3s ease;
    }
    
    .menu-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 20px 40px rgba(244, 143, 177, 0.3);
    }
    
    .menu-emoji {
      display: inline-block;
    }
    
    .pin-input {
      width: 60px;
      height: 70px;
      text-align: center;
      font-size: 2rem;
      border: 3px solid #f48fb1;
      border-radius: 15px;
      background: rgba(255, 255, 255, 0.9);
      color: #c2185b;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    
    .pin-input:focus {
      outline: none;
      border-color: #c2185b;
      box-shadow: 0 0 20px rgba(194, 24, 91, 0.3);
      transform: scale(1.05);
    }
    
    .btn-love {
      background: linear-gradient(135deg, #f48fb1, #c2185b);
      transition: all 0.3s ease;
    }
    
    .btn-love:hover {
      background: linear-gradient(135deg, #c2185b, #880e4f);
      transform: translateY(-3px);
      box-shadow: 0 10px 30px rgba(194, 24, 91, 0.4);
    }
    
    .flower-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
      z-index: 100;
    }
    
    .flower {
      position: absolute;
      font-size: 2rem;
    }
    
    .hidden-page {
      display: none;
    }
    
    .active-page {
      display: flex;
    }
    
    .game-card {
      cursor: pointer;
      transition: all 0.3s ease;
      aspect-ratio: 1;
    }
    
    .game-card:hover:not(.matched):not(.flipped) {
      transform: scale(1.05);
    }
    
    .game-card.matched {
      opacity: 0.7;
      pointer-events: none;
    }

    .game-board-container {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 0.75rem;
      width: 100%;
      max-width: 400px;
      margin: 0 auto;
    }

    @media (min-width: 768px) {
      .game-board-container {
        grid-template-columns: repeat(4, 1fr);
        max-width: 500px;
        gap: 1rem;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full">
  <div id="app" class="gradient-bg h-full w-full overflow-auto"><!-- Page 1: PIN Entry -->
   <div id="page-pin" class="active-page flex-col items-center justify-center min-h-full p-6">
    <div class="glass-card rounded-3xl p-8 md:p-12 max-w-md w-full text-center bounce-in"><!-- Floating Hearts -->
     <div class="relative mb-6"><span class="text-6xl pulse-heart inline-block">üíï</span> <span class="absolute -top-2 -left-4 text-2xl float-animation" style="animation-delay: 0.2s;">‚ú®</span> <span class="absolute -top-2 -right-4 text-2xl float-animation" style="animation-delay: 0.5s;">‚ú®</span>
     </div>
     <h1 class="text-4xl md:text-5xl text-pink-600 mb-4" style="font-weight: 700;">Happy Valentine's Day</h1>
     <p class="text-pink-400 mb-8 text-lg">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏£‡∏´‡∏±‡∏™ 4 ‡∏´‡∏•‡∏±‡∏Å ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏±‡∏ß‡πÉ‡∏à üíó</p>
     <div class="flex justify-center gap-3 mb-8" id="pin-container"><input type="text" maxlength="1" class="pin-input" data-index="0" inputmode="numeric" pattern="[0-9]*"> <input type="text" maxlength="1" class="pin-input" data-index="1" inputmode="numeric" pattern="[0-9]*"> <input type="text" maxlength="1" class="pin-input" data-index="2" inputmode="numeric" pattern="[0-9]*"> <input type="text" maxlength="1" class="pin-input" data-index="3" inputmode="numeric" pattern="[0-9]*">
     </div>
     <p id="pin-error" class="text-red-400 mb-4 hidden">‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏∞‡∏Ñ‡∏∞ üíî</p><button id="btn-unlock" class="btn-love text-white px-10 py-4 rounded-full text-xl font-semibold shadow-lg"> üíñ ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏±‡∏ß‡πÉ‡∏à </button>
     <div class="mt-8 flex justify-center gap-2"><span class="text-2xl float-animation" style="animation-delay: 0s;">üå∏</span> <span class="text-2xl float-animation" style="animation-delay: 0.3s;">üíê</span> <span class="text-2xl float-animation" style="animation-delay: 0.6s;">üå∑</span>
     </div>
    </div>
   </div><!-- Page 2: Memory Game -->
   <div id="page-game" class="hidden-page flex-col items-center justify-center min-h-full w-full p-4 md:p-8">
    <div class="glass-card rounded-3xl p-6 md:p-8 max-w-3xl w-full flex flex-col items-center">
     <h2 class="text-3xl md:text-4xl text-pink-600 mb-2 text-center" style="font-weight: 700;">üíù ‡πÄ‡∏Å‡∏°‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏´‡∏±‡∏ß‡πÉ‡∏à üíù</h2>
     <p class="text-pink-400 mb-6 md:mb-8 text-center text-base md:text-lg">‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡∏†‡∏≤‡∏û‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å!</p>
     <div class="game-board-container mb-8" id="game-board"><!-- Cards will be generated by JS -->
     </div>
     <div class="flex justify-center gap-8 text-pink-500 text-base md:text-lg"><span>‡∏Ñ‡∏π‡πà‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏ö‡πÑ‡∏î‡πâ: <strong id="matches-count">0</strong>/8</span> <span>‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏û‡∏•‡∏¥‡∏Å: <strong id="moves-count">0</strong></span>
     </div>
    </div>
   </div><!-- Page 3: Menu Selection -->
   <div id="page-menu" class="hidden-page flex-col items-center justify-center min-h-full p-6">
    <div class="w-full max-w-2xl">
     <div class="text-center mb-8 bounce-in"><span class="text-5xl pulse-heart inline-block mb-4">üíñ</span>
      <h2 class="text-4xl md:text-5xl text-pink-600 mb-2" style="font-weight: 700;">Valentine's Menu</h2>
      <p class="text-pink-400 text-lg">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏∞</p>
     </div>
     <div class="grid grid-cols-2 gap-4 md:gap-6"><!-- Menu 1: Love Message -->
      <div class="menu-card glass-card rounded-2xl p-5 md:p-6 cursor-pointer bounce-in" style="animation-delay: 0.1s;" onclick="openModal('love')">
       <div class="text-4xl md:text-5xl mb-3 menu-emoji">
        üíå
       </div>
       <h3 class="text-lg md:text-xl font-semibold text-pink-600 mb-2">Happy Valentine's Day</h3>
       <p class="text-pink-400 text-sm">I LOVE YOU</p>
      </div><!-- Menu 2: Whatever You Want -->
      <div class="menu-card glass-card rounded-2xl p-5 md:p-6 cursor-pointer bounce-in" style="animation-delay: 0.2s;" onclick="openModal('wish')">
       <div class="text-4xl md:text-5xl mb-3 menu-emoji">
        üéÅ
       </div>
       <h3 class="text-lg md:text-xl font-semibold text-pink-600 mb-2">‡∏ï‡∏≤‡∏°‡πÉ‡∏à‡πÅ‡∏ü‡∏ô</h3>
       <p class="text-pink-400 text-sm">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ</p>
      </div><!-- Menu 3: Dinner Choice -->
      <div class="menu-card glass-card rounded-2xl p-5 md:p-6 cursor-pointer bounce-in" style="animation-delay: 0.3s;" onclick="openModal('dinner')">
       <div class="text-4xl md:text-5xl mb-3 menu-emoji">
        üçΩÔ∏è
       </div>
       <h3 class="text-lg md:text-xl font-semibold text-pink-600 mb-2">‡πÄ‡∏°‡∏ô‡∏π‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h3>
       <p class="text-pink-400 text-sm">‡πÅ‡∏ü‡∏ô‡∏≠‡∏¢‡∏≤‡∏Å‡∏Å‡∏¥‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏ô‡πä‡∏≤</p>
      </div><!-- Menu 4: Secret Box -->
      <div class="menu-card glass-card rounded-2xl p-5 md:p-6 cursor-pointer bounce-in" style="animation-delay: 0.4s;" onclick="openModal('sorry')">
       <div class="text-4xl md:text-5xl mb-3 menu-emoji">
        üì¶
       </div>
       <h3 class="text-lg md:text-xl font-semibold text-pink-600 mb-2">‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö</h3>
       <p class="text-pink-400 text-sm">‡∏î‡∏µ‡∏Å‡∏±‡∏ô‡∏ô‡∏∞</p>
      </div>
     </div>
     <div class="text-center mt-8">
      <div class="flex justify-center gap-3"><span class="text-3xl float-animation">üòò</span> <span class="text-3xl float-animation" style="animation-delay: 0.2s;">üíï</span> <span class="text-3xl float-animation" style="animation-delay: 0.4s;">üåπ</span>
      </div>
     </div>
    </div>
   </div><!-- Modals -->
   <div id="modal-overlay" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden items-center justify-center p-4"><!-- Love Message Modal -->
    <div id="modal-love" class="glass-card rounded-3xl p-8 max-w-md w-full text-center hidden bounce-in"><span class="text-6xl block mb-4">üíù</span>
     <h3 class="text-3xl text-pink-600 mb-4" style="font-weight: 700;">Happy Valentine's Day!</h3>
     <p class="text-pink-500 text-lg mb-6 leading-relaxed" id="love-message-text">‡πÄ‡∏Ñ‡πâ‡∏≤‡∏£‡∏±‡∏Å‡πÅ‡∏ü‡πâ‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏à‡∏∞‡∏Ñ‡∏≠‡∏¢‡∏≠‡∏¢‡πà‡∏π‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏ü‡πâ‡∏°‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡∏ï‡∏•‡∏≠‡∏î‡∏à‡∏∞‡∏Ñ‡∏≠‡∏¢‡∏ã‡∏±‡∏û‡∏û‡∏≠‡∏£‡πå‡∏ï‡πÅ‡∏ü‡πâ‡∏°‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏¢‡πÜ‡πÄ‡∏•‡∏¢‡∏ï‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏ü‡πâ‡∏°‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏°‡∏µ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ô‡∏∞ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡πà‡∏π‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏ï‡∏•‡∏≠‡∏î‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡πà‡∏π‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡∏ô‡∏≤‡∏ô‡πÜ‡∏ô‡∏∞ üíï
  üíï</p>
     <div class="flex justify-center gap-2 mb-6"><span class="text-2xl">üå∏</span> <span class="text-2xl">üíê</span> <span class="text-2xl">üå∏</span>
     </div><button onclick="closeModal()" class="btn-love text-white px-8 py-3 rounded-full font-semibold"> ‡∏£‡∏±‡∏Å‡∏ô‡∏∞ ‡∏à‡∏π‡∏ö‡∏à‡∏π‡∏ö üíó </button>
    </div><!-- Wish Modal -->
    <div id="modal-wish" class="glass-card rounded-3xl p-8 max-w-md w-full text-center hidden bounce-in"><span class="text-6xl block mb-4">üéÅ</span>
     <h3 class="text-3xl text-pink-600 mb-4" style="font-weight: 700;">‡∏ï‡∏≤‡∏°‡πÉ‡∏à‡πÅ‡∏ü‡∏ô</h3>
     <p class="text-pink-400 mb-4">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏¢‡∏≤‡∏Å‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏∞</p><textarea id="wish-input" class="w-full p-4 rounded-xl border-2 border-pink-200 focus:border-pink-400 focus:outline-none resize-none h-32 text-pink-600" placeholder="‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏°‡∏≤‡πÄ‡∏•‡∏¢..."></textarea>
     <div class="flex gap-3 mt-6 justify-center"><button onclick="saveWish()" class="btn-love text-white px-6 py-3 rounded-full font-semibold"> ‚ú® ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å </button> <button onclick="closeModal()" class="bg-pink-100 text-pink-500 px-6 py-3 rounded-full font-semibold hover:bg-pink-200 transition"> ‡∏õ‡∏¥‡∏î </button>
     </div>
     <p id="wish-saved" class="text-green-500 mt-4 hidden">‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß!</p>
    </div><!-- Dinner Modal -->
    <div id="modal-dinner" class="glass-card rounded-3xl p-8 max-w-md w-full text-center hidden bounce-in"><span class="text-6xl block mb-4">üçΩÔ∏è</span>
     <h3 class="text-3xl text-pink-600 mb-4" style="font-weight: 700;">‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏¢‡πá‡∏ô‡∏ô‡∏µ‡πâ</h3>
     <p class="text-pink-400 mb-4">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏Å‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏∞</p><textarea id="dinner-input" class="w-full p-4 rounded-xl border-2 border-pink-200 focus:border-pink-400 focus:outline-none resize-none h-32 text-pink-600" placeholder="‡∏≠‡∏¢‡∏≤‡∏Å‡∏Å‡∏¥‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏¢‡πá‡∏ô‡∏ô‡∏µ‡πâ..."></textarea>
     <div class="flex gap-3 mt-6 justify-center"><button onclick="saveDinner()" class="btn-love text-white px-6 py-3 rounded-full font-semibold"> üç¥ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å </button> <button onclick="closeModal()" class="bg-pink-100 text-pink-500 px-6 py-3 rounded-full font-semibold hover:bg-pink-200 transition"> ‡∏õ‡∏¥‡∏î </button>
     </div>
     <p id="dinner-saved" class="text-green-500 mt-4 hidden">‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß!</p>
    </div><!-- Sorry Modal -->
    <div id="modal-sorry" class="glass-card rounded-3xl p-8 max-w-md w-full text-center hidden bounce-in"><span class="text-6xl block mb-4">üì¶</span>
     <h3 class="text-3xl text-pink-600 mb-4" style="font-weight: 700;">‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö</h3>
     <div class="bg-pink-50 rounded-xl p-6 mb-6">
      <p class="text-pink-500 text-lg leading-relaxed" id="sorry-message-text">‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡∏ö‡∏≤‡∏á‡∏ó‡∏µ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏ò‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏ò‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡∏¥‡∏î‡∏´‡∏ß‡∏±‡∏á‡∏≠‡∏¢‡πà‡∏π‡∏ö‡πà‡∏≠‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©‡∏ô‡∏∞‡πÄ‡∏ò‡∏≠ ‡πÅ‡∏ï‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏ò‡∏≠‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡πÄ‡∏Ñ‡πâ‡∏≤‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠‡∏°‡∏≤‡∏Å‡∏à‡∏£‡∏¥‡∏á‡πÜ‡∏ô‡∏∞ üôè</p>
     </div>
     <div class="flex justify-center gap-2 mb-4"><span class="text-xl">üå∑</span> <span class="text-xl">üíê</span> <span class="text-xl">üå∑</span>
     </div><button onclick="closeModal()" class="btn-love text-white px-8 py-3 rounded-full font-semibold"> ‡πÉ‡∏´‡πâ‡∏≠‡∏†‡∏±‡∏¢ üíï </button>
    </div>
   </div><!-- Flower Animation Container -->
   <div id="flower-container" class="flower-container"></div>
  </div>
  <script>
    // Default Configuration
    const defaultConfig = {
      secret_code: '1425',
      love_message: '‡∏£‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÄ‡∏•‡∏¢‡∏ô‡∏∞ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏ï‡∏•‡∏≠‡∏î ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡πÇ‡∏•‡∏Å üíï',
      sorry_message: '‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©‡∏ô‡∏∞‡∏ó‡∏µ‡πà‡∏ö‡∏≤‡∏á‡∏ó‡∏µ‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à ‡πÅ‡∏ï‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏°‡∏≤‡∏Å‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡πÅ‡∏•‡∏∞‡∏à‡∏∞‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡∏ô‡∏µ‡πâ üôè',
      background_color: '#fce4ec',
      text_color: '#c2185b',
      accent_color: '#f48fb1'
    };
    
    let config = { ...defaultConfig };
    
    // Game State
    const gameEmojis = ['üíú', 'üíê', 'üå∑', 'üíï', 'ü¶ã', 'üçí', 'üíã', 'üçá' ];
    let cards = [];
    let flippedCards = [];
    let matchedPairs = 0;
    let moves = 0;
    let canFlip = true;
    
    // Initialize PIN inputs
    function initPinInputs() {
      const inputs = document.querySelectorAll('.pin-input');
      inputs.forEach((input, index) => {
        input.addEventListener('input', (e) => {
          const value = e.target.value.replace(/[^0-9]/g, '');
          e.target.value = value;
          if (value && index < inputs.length - 1) {
            inputs[index + 1].focus();
          }
        });
        
        input.addEventListener('keydown', (e) => {
          if (e.key === 'Backspace' && !e.target.value && index > 0) {
            inputs[index - 1].focus();
          }
        });
      });
    }
    
    // Check PIN
    function checkPin() {
      const inputs = document.querySelectorAll('.pin-input');
      const enteredPin = Array.from(inputs).map(i => i.value).join('');
      const correctPin = config.secret_code || defaultConfig.secret_code;
      
      if (enteredPin === correctPin) {
        showPage('page-game');
        initGame();
      } else {
        document.getElementById('pin-error').classList.remove('hidden');
        inputs.forEach(input => {
          input.classList.add('shake');
          input.value = '';
          setTimeout(() => input.classList.remove('shake'), 500);
        });
        inputs[0].focus();
      }
    }
    
    // Initialize Memory Game
    function initGame() {
      const board = document.getElementById('game-board');
      cards = [...gameEmojis, ...gameEmojis];
      shuffleArray(cards);
      
      board.innerHTML = '';
      cards.forEach((emoji, index) => {
        const card = document.createElement('div');
        card.className = 'game-card card-flip';
        card.innerHTML = `
          <div class="card-inner w-full h-full relative">
            <div class="card-front absolute inset-0 bg-gradient-to-br from-pink-400 to-pink-600 rounded-xl flex items-center justify-center text-white text-2xl shadow-lg">
              ü§ç
            </div>
            <div class="card-back absolute inset-0 bg-white rounded-xl flex items-center justify-center text-3xl md:text-4xl shadow-lg border-2 border-pink-200">
              ${emoji}
            </div>
          </div>
        `;
        card.dataset.index = index;
        card.dataset.emoji = emoji;
        card.addEventListener('click', () => flipCard(card));
        board.appendChild(card);
      });
      
      matchedPairs = 0;
      moves = 0;
      updateGameStats();
    }
    
    // Shuffle Array
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }
    
    // Flip Card
    function flipCard(card) {
      if (!canFlip || card.classList.contains('flipped') || card.classList.contains('matched')) {
        return;
      }
      
      card.classList.add('flipped');
      card.querySelector('.card-inner').style.transform = 'rotateY(180deg)';
      flippedCards.push(card);
      
      if (flippedCards.length === 2) {
        moves++;
        updateGameStats();
        canFlip = false;
        
        const [card1, card2] = flippedCards;
        if (card1.dataset.emoji === card2.dataset.emoji) {
          // Match found
          setTimeout(() => {
            card1.classList.add('matched');
            card2.classList.add('matched');
            matchedPairs++;
            updateGameStats();
            flippedCards = [];
            canFlip = true;
            
            if (matchedPairs === gameEmojis.length) {
              setTimeout(() => {
                showFlowerAnimation();
                setTimeout(() => showPage('page-menu'), 2500);
              }, 500);
            }
          }, 500);
        } else {
          // No match
          setTimeout(() => {
            card1.classList.remove('flipped');
            card2.classList.remove('flipped');
            card1.querySelector('.card-inner').style.transform = '';
            card2.querySelector('.card-inner').style.transform = '';
            flippedCards = [];
            canFlip = true;
          }, 1000);
        }
      }
    }
    
    // Update Game Stats
    function updateGameStats() {
      document.getElementById('matches-count').textContent = matchedPairs;
      document.getElementById('moves-count').textContent = moves;
    }
    
    // Show Flower Animation
    function showFlowerAnimation() {
      const container = document.getElementById('flower-container');
      const flowers = ['üíú', 'üíê', 'üåπ', 'üå∑', 'üíï', '‚ú®', 'ü¶ã', 'üå∫', 'üçí', 'üíã' ];
      
      for (let i = 0; i < 50; i++) {
        setTimeout(() => {
          const flower = document.createElement('div');
          flower.className = 'flower flower-fall';
          flower.textContent = flowers[Math.floor(Math.random() * flowers.length)];
          flower.style.left = Math.random() * 100 + '%';
          flower.style.animationDuration = (3 + Math.random() * 3) + 's';
          flower.style.fontSize = (1.5 + Math.random() * 1.5) + 'rem';
          container.appendChild(flower);
          
          setTimeout(() => flower.remove(), 6000);
        }, i * 100);
      }
    }
    
    // Show Page
    function showPage(pageId) {
      document.querySelectorAll('#app > div[id^="page-"]').forEach(page => {
        page.classList.remove('active-page');
        page.classList.add('hidden-page');
      });
      const targetPage = document.getElementById(pageId);
      targetPage.classList.remove('hidden-page');
      targetPage.classList.add('active-page');
    }
    
    // Modal Functions
    function openModal(type) {
      const overlay = document.getElementById('modal-overlay');
      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      
      document.querySelectorAll('[id^="modal-"]:not(#modal-overlay)').forEach(m => m.classList.add('hidden'));
      document.getElementById(`modal-${type}`).classList.remove('hidden');
    }
    
    function closeModal() {
      const overlay = document.getElementById('modal-overlay');
      overlay.classList.add('hidden');
      overlay.classList.remove('flex');
    }
    
    function saveWish() {
      const input = document.getElementById('wish-input');
      if (input.value.trim()) {
        document.getElementById('wish-saved').classList.remove('hidden');
        setTimeout(() => document.getElementById('wish-saved').classList.add('hidden'), 2000);
      }
    }
    
    function saveDinner() {
      const input = document.getElementById('dinner-input');
      if (input.value.trim()) {
        document.getElementById('dinner-saved').classList.remove('hidden');
        setTimeout(() => document.getElementById('dinner-saved').classList.add('hidden'), 2000);
      }
    }
    
    // Render function for config changes
    async function onConfigChange(newConfig) {
      config = { ...defaultConfig, ...newConfig };
      
      // Update love message
      document.getElementById('love-message-text').textContent = config.love_message || defaultConfig.love_message;
      
      // Update sorry message
      document.getElementById('sorry-message-text').textContent = config.sorry_message || defaultConfig.sorry_message;
    }
    
    // Element SDK Integration
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (cfg) => ({
          recolorables: [
            {
              get: () => cfg.background_color || defaultConfig.background_color,
              set: (value) => {
                cfg.background_color = value;
                window.elementSdk.setConfig({ background_color: value });
              }
            },
            {
              get: () => cfg.text_color || defaultConfig.text_color,
              set: (value) => {
                cfg.text_color = value;
                window.elementSdk.setConfig({ text_color: value });
              }
            },
            {
              get: () => cfg.accent_color || defaultConfig.accent_color,
              set: (value) => {
                cfg.accent_color = value;
                window.elementSdk.setConfig({ accent_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (cfg) => new Map([
          ['secret_code', cfg.secret_code || defaultConfig.secret_code],
          ['love_message', cfg.love_message || defaultConfig.love_message],
          ['sorry_message', cfg.sorry_message || defaultConfig.sorry_message]
        ])
      });
    }
    
    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      initPinInputs();
      document.getElementById('btn-unlock').addEventListener('click', checkPin);
      
      // Allow Enter key to submit PIN
      document.querySelectorAll('.pin-input').forEach(input => {
        input.addEventListener('keydown', (e) => {
          if (e.key === 'Enter') checkPin();
        });
      });
    });
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9cc2ff49434e26d5',t:'MTc3MDgwNDAwNS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>


